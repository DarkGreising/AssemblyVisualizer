<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"                    
                    xmlns:ViewModels="clr-namespace:ILSpyVisualizer.AssemblyBrowser.ViewModels">
    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="ImagesDictionary.xaml"/>
        <ResourceDictionary Source="ControlStylesDictionary.xaml"/>
    </ResourceDictionary.MergedDictionaries>

    <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>

        
    <Style x:Key="BorderStyle" TargetType="{x:Type Border}">
        <Setter Property="CornerRadius" Value="10"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="BorderBrush" Value="Black"/>
        <Setter Property="SnapsToDevicePixels" Value="True"/>
    </Style>    

    <!--Member-->
    <DataTemplate DataType="{x:Type ViewModels:MemberViewModel}">
        <Grid Margin="0, 2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <Image Source="{Binding Icon}"
                       Margin="0, 0, 6, 0"                    
                       Stretch="Uniform"
                       Width="16"
                       Height="16"                       
                       />
            <TextBlock Text="{Binding Text}"
                           Grid.Column="1" />
        </Grid>
    </DataTemplate>

    <!--Type-->
    <DataTemplate DataType="{x:Type ViewModels:TypeViewModel}"
                  x:Key="TypeDataTemplate"> 
        <Grid>            
            <Border x:Name="brdMark"
                    Margin="-15" 
                    CornerRadius="15"
                    Background="#3578FF"
                    Visibility="Collapsed"/>
            
            <Border x:Name="brdMain"
                    Style="{StaticResource BorderStyle}"                            
                    Background="{Binding Background}">
                <Grid>

                    <TextBlock Text="{Binding Name}"
                               ToolTip="{Binding ExtendedInfo}"
                               Margin="8, 5, 8, 3"
                               FontWeight="Bold"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center"
                               TextOptions.TextRenderingMode="Grayscale"/>  
                    <Border Background="White"
                                    CornerRadius="8"
                                    x:Name="pnlButtons"
                                    Visibility="Collapsed"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Center">
                        <StackPanel Orientation="Horizontal">
                            <Button VerticalAlignment="Center"                                                                      
                                    Command="{Binding NavigateCommand}" 
                                    Margin="4, 0"
                                    Width="16"
                                    Height="16"
                                    MinWidth="0"
                                    MinHeight="0"
                                    Background="{StaticResource RightArrowBlueDrawing}"
                                    Style="{StaticResource ImageButtonStyle}"
                                    ToolTip="Navigate"/>

                            <Button VerticalAlignment="Center"                                                                      
                                    Command="{Binding VisualizeCommand}" 
                                    Margin="4, 0"
                                    Width="16"
                                    Height="16"
                                    MinWidth="0"
                                    MinHeight="0"
                                    Background="{StaticResource RightArrowDrawing}"
                                    Style="{StaticResource ImageButtonStyle}"
                                    Visibility="{Binding CanVisualize, Converter={StaticResource BooleanToVisibilityConverter}}"
                                    ToolTip="Visualize"/>

                            <Button Command="{Binding ShowMembersCommand}"                   
                                    Width="16"
                                    Height="16"
                                    Margin="4, 0"                                          
                                    Background="{StaticResource FlatMagnifierDrawing}"
                                    Style="{StaticResource ImageButtonStyle}"
                                    ToolTip="Show members"
                                    Visibility="{Binding CanShowMembers, Converter={StaticResource BooleanToVisibilityConverter}}"/>
                        </StackPanel>
                    </Border>
                </Grid>               
            </Border>
            <Border Style="{StaticResource BorderStyle}">
                <Border.Effect>
                    <DropShadowEffect/>
                </Border.Effect>
            </Border>
        </Grid>
        <DataTemplate.Triggers>            
            <Trigger SourceName="brdMain" Property="IsMouseOver" Value="True">
                <Setter TargetName="pnlButtons" Property="Visibility" Value="Visible"/>                
            </Trigger>            
            <DataTrigger Binding="{Binding IsMarked}" Value="True">
                <Setter TargetName="brdMark" Property="Visibility" Value="Visible"/>
            </DataTrigger>
        </DataTemplate.Triggers>
    </DataTemplate>

    <!--Assembly-->
    <DataTemplate DataType="{x:Type ViewModels:AssemblyViewModel}">
        <Grid Margin="3">
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <TextBlock Text="{Binding Name}"
                       ToolTip="{Binding FullName}"
                       FontSize="13"
                       Foreground="{Binding Foreground}"
                       FontWeight="DemiBold" />
        </Grid>        
    </DataTemplate>

   

</ResourceDictionary>